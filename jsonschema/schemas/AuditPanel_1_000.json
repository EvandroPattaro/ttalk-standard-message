{
  "$schema": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/schemas/AuditPanel_1_000.json#",
  "info": {
    "description": "API do Painel de Auditoria RH",
    "version": "1.000",
    "title": "Painel de Auditoria RH",
    "contact": {
      "name": "T-Talk",
      "url": "api.Totvs.com.br",
      "email": "dielly.ribeiro@totvs.com.br"
    },
    "x-totvs": {
      "messageDocumentation": {
        "name": "AuditPanel",
        "description": "Painel de Auditoria de RH",
        "segment": "Recursos Humanos"
      },
      "productInformation": [
        {
          "product": "protheus",
          "contact": "dielly.ribeiro@totvs.com.br",
          "description": "Painel de Auditoria de RH",
          "adapter": "XXXXXXXX.prw"
        },
        {
          "product": "rm",
          "contact": "dielly.ribeiro@totvs.com.br",
          "description": "Painel de Auditoria de RH",
          "adapter": "XXXXXXXX.prw"
        }
      ]
    }
  },
  "definitions": {
    "AuditPeriodItems": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "period": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": ["Todos", "1", "2"]
              }
            }
          }
        }
      }
    },
    "AuditBigNumbersItems": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "general-situations": {
                "type": "number",
                "example": 1345
              },
              "resolved-situations": {
                "type": "number",
                "example": 345
              }
            }
          }
        }
      }
    },
    "AuditConformityItems": {
      "type": "object",
      "allOf": [
        {
          "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
        },
        {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AuditConformityList"
              }
            }
          }
        }
      ]
    },
    "AuditConformityList": {
      "type": "object",
      "required": ["id", "descricao", "quantidade"],
      "properties": {
        "id": {
          "type": "string",
          "example": "000001"
        },
        "descricao": {
          "type": "string",
          "example": "Pagamento de Salário Duplicado"
        },
        "quantidade": {
          "type": "number",
          "example": 100
        },
        "detail": {
          "type": "string",
          "example": "true"
        }
      }
    },
    "AuditEmployeeItems": {
      "type": "object",
      "allOf": [
        {
          "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
        },
        {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AuditEmployeeList"
              }
            }
          }
        }
      ]
    },
    "AuditEmployeeList": {
      "type": "object",
      "required": ["id", "name", "employeeId", "cpf"],
      "properties": {
        "id": {
          "type": "string",
          "example": "000001"
        },
        "name": {
          "type": "string",
          "example": "Maria Silva"
        },
        "branchCode": {
          "type": "string",
          "example": "01"
        },
        "employeeId": {
          "type": "string",
          "example": "102030"
        },
        "rubricCode": {
          "type": "string",
          "example": "001"
        },
        "rubricDesc": {
          "type": "string",
          "example": "Salário Mensalista"
        },
        "cpf": {
          "type": "string",
          "example": "123.456.789-00"
        },
        "cnpj": {
          "type": "string",
          "example": "00.111.222/0001-33"
        },
        "situations": {
          "type": "boolean",
          "example": true
        }
      }
    },
    "AuditBranchItems": {
      "type": "object",
      "allOf": [
        {
          "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
        },
        {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AuditBranchList"
              }
            }
          }
        }
      ]
    },
    "AuditBranchList": {
      "type": "object",
      "properties": {
        "branchCode": {
          "type": "string",
          "example": "01"
        },
        "branchName": {
          "type": "string",
          "example": "Matriz"
        },
        "branchCNPJ": {
          "type": "string",
          "example": "53113791000122"
        }
      }
    },
    "AuditHistoryItems": {
      "type": "object",
      "allOf": [
        {
          "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
        },
        {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AuditHistoryList"
              }
            }
          }
        }
      ]
    },
    "AuditHistoryList": {
      "type": "object",
      "properties": {
        "branchCode": {
          "type": "string",
          "example": "01"
        },
        "companyId": {
          "type": "number",
          "example": 1
        },
        "id": {
          "type": "string",
          "example": "000001"
        },
        "description": {
          "type": "string",
          "example": "Pagamento de Horas Extras"
        },
        "employeeId": {
          "type": "string",
          "example": "XPTO0001"
        },
        "nameEmployee": {
          "type": "string",
          "example": "MARCOS"
        },
        "dateIncluded": {
          "type": "string",
          "format": "date-time",
          "example": "2025-11-12T11:00:01Z"
        },
        "resolved": {
          "type": "number",
          "example": 0
        },
        "typeHistory": {
          "type": "number",
          "example": 0
        }
      }
    },
    "AuditLastUpdate": {
      "type": "object",
      "properties": {
        "last-update": {
          "type": "string",
          "example": "2025-10-30 17:43:24"
        }
      }
    },
    "AuditUpdateFeedback": {
      "description": "Objeto de envio para atualização de feedback",
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/AuditUpdateFeedbackList"
          }
        }
      }
    },
    "AuditUpdateFeedbackList": {
      "type": "object",
      "required": ["id", "month", "year", "feedback"],
      "properties": {
        "id": { "type": "string", "example": "000001" },
        "cnpj": { "type": "string", "example": "123.456.456.13" },
        "cpf": { "type": "string", "example": "98.765.432/0001-10" },
        "month": { "type": "string", "example": "02" },
        "year": { "type": "string", "example": "2025" },
        "period": { "type": "string", "example": "02" },
        "branchCode": { "type": "string", "example": "01" },
        "employeeId": { "type": "string", "example": "102030" },
        "rubricCode": { "type": "string", "example": "001" },
        "rubricDesc": { "type": "string", "example": "Salário Mensalista" },
        "feedback": {
          "type": "string",
          "description": "Situação do feedback (Ex: '1')",
          "example": "1"
        }
      }
    },
    "InvalidRequest": {
      "type": "object",
      "required": ["code", "message", "type"],
      "properties": {
        "code": {
          "type": "number",
          "example": 400
        },
        "message": {
          "type": "string",
          "example": "Registro não encontrado"
        },
        "detailedMessage": {
          "type": "string",
          "example": ""
        },
        "type": {
          "type": "string",
          "example": "error"
        }
      }
    },
    "InternalServerError": {
      "type": "object",
      "required": ["code", "message"],
      "properties": {
        "code": {
          "type": "number",
          "example": 500
        },
        "message": {
          "type": "string",
          "example": "Erro Interno do Servidor"
        },
        "detailedMessage": {
          "type": "string",
          "example": "Favor verificar arquivos de log do seu servidor"
        }
      }
    }
  },
  "parameters": {
    "companyId": {
      "name": "companyId",
      "in": "query",
      "required": true,
      "schema": {
        "type": "string"
      }
    },
    "month": {
      "name": "month",
      "in": "query",
      "required": true,
      "schema": {
        "type": "string"
      }
    },
    "year": {
      "name": "year",
      "in": "query",
      "required": true,
      "schema": {
        "type": "string"
      }
    },
    "page": {
      "name": "page",
      "in": "query",
      "required": true,
      "schema": {
        "type": "number"
      }
    },
    "pageSize": {
      "name": "pageSize",
      "in": "query",
      "required": true,
      "schema": {
        "type": "number"
      }
    }
  }
}
